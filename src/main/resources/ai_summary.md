# ai_summary.md

## 协作与开发规范
- 每完成一个需求（无论大小），都必须将本次实现的关键思路、决策、代码片段和遗留问题同步记录到 ai_memory.md。
- ai_summary.md 只保留总览、阶段进度和当前待办，详细开发过程全部分块写入 ai_memory.md。
- 这样可确保项目知识库和开发进度始终一致，便于随时中断/恢复和多人协作。

## 项目总览
- 项目目标：为大 JSON 文件提供结构化导航视图，提升编辑和阅读体验。
- 技术选型：Kotlin + IntelliJ Platform Plugin。
- 主要功能点：
  - 树形结构导航
  - 节点跳转与编辑区同步
  - 搜索/过滤
  - Markdown 导出
  - UI布局优化
  - 代码结构分包

## 阶段性进度
- 2024-06-09：完成基础架构设计，ToolWindow 注册与基础 UI 搭建。
- 2024-06-09：实现树形结构导航视图，支持 JSON 文件监听与解析。
- 2024-06-09：支持树节点点击跳转，编辑区同步高亮。
- 2024-06-09：支持 Markdown 导出表格样式，数组节点只导出第一个元素结构。
- 2024-06-09：UI布局优化，搜索/过滤功能完善，支持多种搜索方式。
- 2024-06-09：核心功能健全，所有设计与进度已同步记录。
- 2024-06-20：梳理知识管理方案，ai_summary 只保留总览、阶段进度、当前待办，详细开发记录分块存于 ai_memory。
- 2024-06-20：右键菜单、节点按钮、搜索框清空、代码结构优化等体验细节全部完成。
- 2024-06-20：达到可发布的初步版本，编码工作阶段性收尾。

## 当前待办
- [ ] 代码结构和UI小优化（后续可持续完善）
- [ ] 其他体验细节完善（后续可持续完善）

---

# 历史内容归档（保留原有信息，便于追溯）

## 原阶段性总结
- 首步实现：注册 ToolWindow，显示基础 UI。
- 后续计划：逐步实现树形结构、节点跳转、导出 markdown、检索等功能。
- 已完成 ToolWindow 注册与基础 UI 搭建，插件启动后可在侧边栏看到 'Hello JSON Navigator'。
- 进入核心功能开发：树形结构导航视图。将监听当前 JSON 文件，解析其结构并用树形组件展示，后续支持刷新和动态监听。
- 进入动态解析：监听编辑器切换，识别 JSON 文件并用 PSI 解析其结构，动态刷新树形视图。
- 已实现树节点点击跳转，点击导航树节点可自动跳转到主编辑区对应 JSON 位置。
- Markdown 导出支持表格样式，表头为英文，数组节点只导出第一个元素结构，层级用 - 表示。
- 代码结构持续优化，所有 UI、树生成、工具方法均已分包，入口类高度精简。
- 支持编辑区光标移动时，导航树自动高亮对应节点，实现了编辑区与导航树的双向同步。
- UI布局优化：搜索框独占一行，右侧有"?"帮助按钮，按钮栏单独一行，整体美观紧凑。
- 搜索/过滤功能完善，支持关键字、路径、路径+值、类型等多种方式，MongoDB风格表达式，命中节点子节点全显示，逻辑独立分离。
- 核心功能健全：树节点跳转、编辑区同步高亮、Markdown表格导出、结构分包。
- 所有设计与进度已同步记录于ai_memory.md与ai_summary.md。 